from aiogram import Router, F
from aiogram.types import Message, CallbackQuery
from aiogram.filters import CommandStart, Command
from aiogram_dialog import DialogManager, StartMode
from bot.states import RegistrationSG

router = Router()

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
ADMIN_ID = 257026813


@router.message(CommandStart())
async def start_command(message: Message, dialog_manager: DialogManager):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start"""
    await dialog_manager.start(RegistrationSG.welcome, mode=StartMode.RESET_STACK)


@router.message(Command(commands=['menu']))
async def process_command_menu(message: Message, dialog_manager: DialogManager):
    await dialog_manager.start(state=RegistrationSG.welcome, mode=StartMode.RESET_STACK)


@router.message(Command(commands=['stats']))
async def process_command_stats(message: Message):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /stats - —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"""
    if message.from_user.id != ADMIN_ID:
        await message.answer("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥–µ.")
        return
    
    # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    stats_text = """üìä <b>–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ú–ë'25</b>

üîç <b>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –∫–Ω–æ–ø–∫–∞–º:</b>
‚Ä¢ –ó–∞–ø—Ä–æ—Å—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã: - (—Ñ—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
‚Ä¢ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã: - (—Ñ—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)  
‚Ä¢ –û—Ç–∫–∞–∑—ã –æ—Ç —É—á–∞—Å—Ç–∏—è: - (—Ñ—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

üìù <b>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</b>
‚Ä¢ –í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: - (—Ñ—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
‚Ä¢ –ê–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: - (—Ñ—É–Ω–∫—Ü–∏—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

üí° –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö."""
    
    await message.answer(stats_text)


# –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Ä–∞—Å—Å—ã–ª–∫–∏

@router.callback_query(F.data == "program_info")
async def handle_program_info(callback: CallbackQuery):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–ß—Ç–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ?'"""
    program_text = """<b>–¢—Ä–µ—Ç–∏–π –¥–µ–Ω—å –ú–ë: –±—É—Å—Ç –ª–∏—á–Ω–æ—Å—Ç–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è</b>

–≠—Ç–æ—Ç —Ç—Ä–µ–∫ –º—ã –ø–æ—Å–≤—è—â–∞–µ–º –≤–∞–º ‚Äî –≤—ã–ø—É—Å–∫–Ω–∏–∫–∞–º, —á—Ç–æ —Å—Ç—Ä–æ—è—Ç –±—É–¥—É—â–µ–µ –≤ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–µ. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞—Å—ã—â–µ–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–æ–π –∏ –Ω–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥–æ–º, —á—Ç–æ–±—ã –¥–∞—Ç—å –≤–∞–º –º–∞–∫—Å–∏–º—É–º –ø–æ–ª–µ–∑–Ω–æ–≥–æ –¥–ª—è –∫–∞—Ä—å–µ—Ä—ã.

üéØ <b>–î–µ–ª–æ–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞:</b>

<b>12:00‚Äì13:20 | –ò–≥—Ä–∞-–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ –ø–æ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –≤ –∫–æ–º–∞–Ω–¥–µ</b>
–†–∞–∑–±–µ—Ä—ë–º —Ä–µ–∞–ª—å–Ω—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ–±—â–µ–Ω–∏—è –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å—Ä–µ–¥–µ –≤ –ª—ë–≥–∫–æ–º –∏–≥—Ä–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ. –í—ã –æ—Ç–∫—Ä–æ–µ—Ç–µ –¥–ª—è —Å–µ–±—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω–∏–º–∞—Ç—å –∫–æ–ª–ª–µ–≥ –∏ –¥–æ—Å—Ç–∏–≥–∞—Ç—å –æ–±—â–∏—Ö —Ü–µ–ª–µ–π –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞. –ü–æ–≥—Ä—É–∑–∏–º—Å—è –≤ –∂–∏–≤—ã–µ –∫–µ–π—Å—ã –∏ –Ω–∞–π–¥—ë–º —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.

<b>14:30‚Äì15:10 | –í–æ—Ä–∫—à–æ–ø –ø–æ —Å–∞–º–æ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏</b>
–ù–∞—É—á–∏–º—Å—è —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å –æ —Å–µ–±–µ —Ç–∞–∫, —á—Ç–æ–±—ã –≤–∞—Å –∑–∞–ø–æ–º–∏–Ω–∞–ª–∏ ‚Äî –∏ –∫–∞–∫ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞, –∏ –∫–∞–∫ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –ª–∏—á–Ω–æ—Å—Ç—å. –í—ã –æ—Å–≤–æ–∏—Ç–µ 3 –ø–æ–¥—Ö–æ–¥–∞ –∏ —Å–æ–∑–¥–∞–¥–∏—Ç–µ 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å–∞–º–æ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π: —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ, –∫–∞—Ä—å–µ—Ä–Ω–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ, –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ. –£–∑–Ω–∞–µ—Ç–µ, –∫–∞–∫ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å —Å–≤–æ–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ –¥–µ—Ä–∂–∞—Ç—å—Å—è –ø–µ—Ä–µ–¥ –ª—é–±–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–µ–π.

<b>15:10‚Äì15:30 | –ù–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –±—ã—Å—Ç—Ä—ã—Ö –≤—Å—Ç—Ä–µ—á</b>
–î–∏–Ω–∞–º–∏—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –æ—Ç —Å—Ç–æ–ª–∞ –∫ —Å—Ç–æ–ª—É, –æ–±–º–µ–Ω–æ–º –º–Ω–µ–Ω–∏–π –ø–æ –∫–∞—Ä—Ç–æ—á–∫–∞–º –∏ —Å–≤–æ–±–æ–¥–Ω—ã–º–∏ –¥–∏–∞–ª–æ–≥–∞–º–∏. –≠—Ç–æ –æ—Ç–ª–∏—á–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∫—Ä—É–≥ –ø–æ–ª–µ–∑–Ω—ã—Ö –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –∏ –Ω–∞–π—Ç–∏ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤ –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏.

üë©‚Äçüè´ <b>–°–ø–∏–∫–µ—Ä—ã –∏ —Ñ–∞—Å–∏–ª–∏—Ç–∞—Ç–æ—Ä—ã:</b>

–ö–∞—Ç—è –ú–∏—Ç—É—Å–æ–≤–∞ ‚Äî –õ–∏–¥–µ—Ä Women in Tech Russia, ex-Google, ex-Wrike, Platinum Tier Facilitator #IamRemarkable

–û–ª—è –ß–∞–¥—É–ª–∏–Ω–∞ ‚Äî HR –≤ IT, ex-Raiffeisenbank, –∫–∞—Ä—å–µ—Ä–Ω—ã–π –º–µ–Ω—Ç–æ—Ä –∏ –∫–æ—É—á ICF, –∞–≤—Ç–æ—Ä –∫–∞–Ω–∞–ª–∞ ¬´–í—Å—ë —Ç—ã –º–æ–∂–µ—à—å¬ª

–õ–µ–Ω–∞ –°–æ–∫–æ–ª–æ–≤–∞ ‚Äî Product Owner –≤ EdTech, ex-–ù–µ—Ç–æ–ª–æ–≥–∏—è, ex-–Ø–Ω–¥–µ–∫—Å –ü—Ä–∞–∫—Ç–∏–∫—É–º, –∞–≤—Ç–æ—Ä –∫–∞–Ω–∞–ª–∞ –∏ –ø–æ–¥–∫–∞—Å—Ç–∞ ¬´–ö–∞—Ä—å–µ—Ä–∞ –±–µ–∑ –±–∞–≥–æ–≤¬ª, —Å–æ–æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ ¬´–ï—â—ë –Ω–µ –ø—Ä–æ–¥–∞–∫—Ç—ã¬ª

‚ú® <b>–ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –±—ã—Ç—å?</b>

–§–∏–Ω–∞–ª—å–Ω—ã–π –¥–µ–Ω—å ‚Äî —ç—Ç–æ –≤–∞—à–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–∫–∞—á–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏, –ø–æ–ª—É—á–∏—Ç—å —Å–≤–µ–∂–∏–µ –∏–Ω—Å–∞–π—Ç—ã –∏ –ø–æ–æ–±—â–∞—Ç—å—Å—è —Å —Ç–µ–º–∏, –∫—Ç–æ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –≤–∞—à –∏–Ω—Ç–µ—Ä–µ—Å –∫ –±—É–¥—É—â–µ–º—É –≤ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–µ.

<b>–ñ–¥—ë–º –∏–º–µ–Ω–Ω–æ –≤–∞—Å, –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤ –ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –∏ –í—ã—Å—à–µ–π –®–∫–æ–ª—ã –ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞!</b>"""
    
    await callback.message.answer(program_text)
    await callback.answer()


@router.callback_query(F.data == "confirm_payment")
async def handle_confirm_payment(callback: CallbackQuery, user_repo):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–ø–ª–∞—Ç—É'"""
    user_id = callback.from_user.id
    username = callback.from_user.username or "–±–µ–∑ username"
    full_name = callback.from_user.full_name or "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"
    
    # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
    # –ù–∞–ø—Ä–∏–º–µ—Ä: await user_repo.set_payment_confirmed(user_id, True)
    
    # –ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∑–∞–º–µ–Ω—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    confirm_text = """‚úÖ <b>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–ø–ª–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω–æ!</b>

–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ!

–í —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤ –Ω–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç –ø–ª–∞—Ç–µ–∂ –∏ –≤—ã—à–ª–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É—á–∞—Å—Ç–∏—è.

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–∞–º.

<b>–î–æ –≤—Å—Ç—Ä–µ—á–∏ –Ω–∞ –ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–µ –ë—É–¥—É—â–µ–≥–æ '25!</b> üéâ"""
    
    # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –æ–ø–ª–∞—Ç—ã
    admin_notification = f"""üí∞ <b>–ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï –û–ü–õ–ê–¢–´</b>

üë§ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> {full_name}
üÜî <b>ID:</b> <code>{user_id}</code>
üìß <b>Username:</b> @{username}
üìÖ <b>–í—Ä–µ–º—è:</b> {callback.message.date.strftime('%d.%m.%Y %H:%M')}

‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –æ–ø–ª–∞—Ç—É —É—á–∞—Å—Ç–∏—è –≤ –ú–ë'25"""
    
    # –£–¥–∞–ª—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ
    await callback.message.delete()
    await callback.message.answer(confirm_text)
    
    # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
    try:
        await callback.bot.send_message(
            chat_id=ADMIN_ID,
            text=admin_notification
        )
    except Exception as e:
        # –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, –Ω–æ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å
        import logging
        logging.error(f"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É: {e}")
    
    await callback.answer("–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ!")


@router.callback_query(F.data == "decline_participation")
async def handle_decline_participation(callback: CallbackQuery, user_repo):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ '–û—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —É—á–∞—Å—Ç–∏—è'"""
    user_id = callback.from_user.id
    username = callback.from_user.username or "–±–µ–∑ username"
    full_name = callback.from_user.full_name or "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ"
    
    # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç–∫–∞–∑–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
    # –ù–∞–ø—Ä–∏–º–µ—Ä: await user_repo.set_participation_declined(user_id, True)
    
    # –ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∑–∞–º–µ–Ω—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
    decline_text = """‚ùå <b>–û—Ç–∫–∞–∑ –æ—Ç —É—á–∞—Å—Ç–∏—è</b>

–í—ã –æ—Ç–∫–∞–∑–∞–ª–∏—Å—å –æ—Ç —É—á–∞—Å—Ç–∏—è.

–ú—ã –ø–æ–Ω–∏–º–∞–µ–º, —á—Ç–æ –ø–ª–∞–Ω—ã –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è. –ï—Å–ª–∏ –ø–µ—Ä–µ–¥—É–º–∞–µ—Ç–µ, –≤—Å–µ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º."""
    
    # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ–± –æ—Ç–∫–∞–∑–µ –æ—Ç —É—á–∞—Å—Ç–∏—è
    admin_notification = f"""‚ùå <b>–û–¢–ö–ê–ó –û–¢ –£–ß–ê–°–¢–ò–Ø</b>

üë§ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> {full_name}
üÜî <b>ID:</b> <code>{user_id}</code>
üìß <b>Username:</b> @{username}
üìÖ <b>–í—Ä–µ–º—è:</b> {callback.message.date.strftime('%d.%m.%Y %H:%M')}

üíî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫–∞–∑–∞–ª—Å—è –æ—Ç —É—á–∞—Å—Ç–∏—è –≤ –ú–ë'25"""
    
    # –£–¥–∞–ª—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ
    await callback.message.delete()
    await callback.message.answer(decline_text)
    
    # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
    try:
        await callback.bot.send_message(
            chat_id=ADMIN_ID,
            text=admin_notification
        )
    except Exception as e:
        # –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É, –Ω–æ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å
        import logging
        logging.error(f"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É: {e}")
    
    await callback.answer("–ú—ã —É—á–ª–∏ –≤–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ")